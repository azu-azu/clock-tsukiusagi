# ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆä¸ä¸€è‡´ã«ã‚ˆã‚‹éŸ³å£°ã‚¯ãƒªãƒƒã‚¯ãƒ»ãƒã‚¤ã‚ºå•é¡Œ - RCA

**ã‚«ãƒ†ã‚´ãƒª**: ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚·ã‚¹ãƒ†ãƒ ï¼ˆAudioSourceå®Ÿè£…ï¼‰
**é‡å¤§åº¦**: Highï¼ˆéŸ³å£°å“è³ªåŠ£åŒ–ã€ã‚¯ãƒªãƒƒã‚¯éŸ³ãƒ»ãƒ‘ãƒãƒ‘ãƒãƒã‚¤ã‚ºï¼‰
**ä½œæˆæ—¥**: 2025-11-17
**æœ€çµ‚æ›´æ–°**: 2025-11-17

---

## ğŸ“‹ æ¦‚è¦

æ–°è¦è¿½åŠ ã—ãŸ12å€‹ã®éŸ³æºï¼ˆåˆæˆéŸ³æºï¼‰ã§ã€Œå°ã•ãªãƒ‘ãƒãƒ‘ãƒã¨ã„ã†ãƒã‚¤ã‚ºã€ãŒç™ºç”Ÿã€‚èª¿æŸ»ã®çµæœã€**AudioSourceå®Ÿè£…é–“ã§ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆãŒä¸ä¸€è‡´**ï¼ˆ44.1kHz ã¨ 48kHz ã®æ··åœ¨ï¼‰ã—ã¦ã„ãŸã“ã¨ãŒåŸå› ã¨åˆ¤æ˜ã€‚

---

## ğŸ”´ å•é¡Œã®ç—‡çŠ¶

### å ±å‘Šã•ã‚ŒãŸç—‡çŠ¶

- æ–°è¦è¿½åŠ ã—ãŸ12å€‹ã®éŸ³æºã§ã€Œå°ã•ãªãƒ‘ãƒãƒ‘ãƒã¨ã„ã†ãƒã‚¤ã‚ºã€ãŒå…¥ã‚‹
- ã‚¯ãƒªãƒƒã‚¯éŸ³ã€ãƒãƒƒãƒ—ãƒã‚¤ã‚ºã®ã‚ˆã†ãªæ–­ç¶šçš„ãªéŸ³
- æ—¢å­˜ã®éŸ³æºï¼ˆWindChimeã€TibetanBowlç­‰ï¼‰ã§ã¯ç™ºç”Ÿã—ãªã„
- éŸ³æ¥½çš„ãªæ„å›³ã§ã¯ãªãã€æ˜ã‚‰ã‹ãªéŸ³è³ªåŠ£åŒ–

### å½±éŸ¿ç¯„å›²

**æ–°è¦è¿½åŠ éŸ³æºï¼ˆ48kHzä½¿ç”¨ï¼‰**:
- MoonlitSeaï¼ˆæ·±å¤œã®æµ·ï¼‰
- LunarPulseï¼ˆæœˆã®è„ˆå‹•ï¼‰
- DarkSharkï¼ˆé»’ã„ã‚µãƒ¡ã®å½±ï¼‰
- MidnightTrainï¼ˆå¤œæ±½è»Šï¼‰
- LunarTideï¼ˆæœˆå…‰ã®æ½®æµï¼‰
- AbyssalBreathï¼ˆæ·±æµ·ã®å‘¼å¸ï¼‰
- StardustNoiseï¼ˆæ˜Ÿå±‘ãƒã‚¤ã‚ºï¼‰
- LunarDustStormï¼ˆæœˆé¢ã®ç ‚åµï¼‰
- SilentLibraryï¼ˆå¤œã®å›³æ›¸é¤¨ï¼‰
- DistantThunderï¼ˆé é›·ï¼‰
- SinkingMoonï¼ˆæ²ˆã‚€æœˆï¼‰
- DawnHintï¼ˆæœã®æ°—é…ï¼‰

**æ—¢å­˜éŸ³æºï¼ˆ44.1kHzä½¿ç”¨ï¼‰**:
- OceanWavesï¼ˆæ³¢éŸ³ï¼‰
- WindChimeï¼ˆç™’ã—ãƒãƒ£ã‚¤ãƒ ï¼‰
- TibetanBowlï¼ˆãƒãƒ™ã‚¿ãƒ³ãƒœã‚¦ãƒ«ï¼‰
- ClickMaskingDroneï¼ˆã‚¯ãƒªãƒƒã‚¯ãƒã‚¹ã‚­ãƒ³ã‚°ï¼‰

---

## ğŸ” æ ¹æœ¬åŸå› åˆ†æï¼ˆRCAï¼‰

### åŸå› 

AudioSourceå®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§**ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰**ã•ã‚Œã¦ãŠã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«é–“ã§ç•°ãªã‚‹å€¤ãŒä½¿ç”¨ã•ã‚Œã¦ã„ãŸã€‚

**å•é¡Œã®ã‚ã£ãŸã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆMoonlitSea.swift:83ï¼‰**:

```swift
// âŒ æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ48kHzï¼‰
_sourceNode = AVAudioSourceNode { _, _, frameCount, audioBufferList -> OSStatus in
    // ...

    // LFOä½ç›¸ã‚’é€²ã‚ã‚‹
    lfoPhase += twoPi * localLFOFreq / 48000.0  // â† 48kHz
    if lfoPhase >= twoPi {
        lfoPhase -= twoPi
    }

    return noErr
}
```

**å•é¡Œã®ã‚ã£ãŸã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆOceanWaves.swift:74ï¼‰**:

```swift
// âŒ æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ44.1kHzï¼‰
_sourceNode = AVAudioSourceNode { _, _, frameCount, audioBufferList -> OSStatus in
    let sampleRate = 44100.0  // â† 44.1kHz
    let deltaTime = 1.0 / sampleRate

    // LFOä½ç›¸ã‚’é€²ã‚ã‚‹
    lfoPhase += twoPi * localLFOFreq * deltaTime

    return noErr
}
```

### ãªãœã‚¯ãƒªãƒƒã‚¯ãƒ»ãƒã‚¤ã‚ºãŒç™ºç”Ÿã™ã‚‹ã®ã‹

#### iOSã®æ¨™æº–ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆ

**iOS ãƒ‡ãƒã‚¤ã‚¹ã¯48kHzãŒæ¨™æº–**:
- iPhoneã€iPadã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¯48kHzã§å‹•ä½œ
- AVAudioEngineã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§48kHzã‚’ä½¿ç”¨
- LocalAudioEngine ã¯ `engine.outputNode.inputFormat(forBus: 0)` ã‹ã‚‰å®Ÿéš›ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’å–å¾—ï¼ˆ= 48kHzï¼‰

#### ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆä¸ä¸€è‡´ã®å½±éŸ¿

```
å®Ÿéš›ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢: 48,000 samples/sec

AudioSource A: 44,100 Hz ã§è¨ˆç®—
  â†’ LFOã®ä½ç›¸é€²è¡ŒãŒå®Ÿéš›ã‚ˆã‚Šé…ã„
  â†’ 1ç§’ã‚ãŸã‚Š 48,000 - 44,100 = 3,900 ã‚µãƒ³ãƒ—ãƒ«åˆ†ã®ã‚ºãƒ¬
  â†’ ä½ç›¸ã®ä¸é€£ç¶š â†’ ã‚¯ãƒªãƒƒã‚¯éŸ³ã€ãƒ‘ãƒãƒ‘ãƒãƒã‚¤ã‚º

AudioSource B: 48,000 Hz ã§è¨ˆç®—
  â†’ æ­£ã—ã„ä½ç›¸é€²è¡Œ
  â†’ ãƒã‚¤ã‚ºãªã—
```

**å…·ä½“ä¾‹ï¼ˆLFOå‘¨æ³¢æ•° 0.25 Hz ã®å ´åˆï¼‰**:

```
æœŸå¾…ã•ã‚Œã‚‹å‘¨æœŸ: 4.0 ç§’ï¼ˆ0.25 Hzï¼‰

44.1kHzæƒ³å®šã§è¨ˆç®—:
  å®Ÿéš›ã®å‘¨æœŸ = 4.0 Ã— (48000 / 44100) â‰ˆ 4.35 ç§’
  â†’ 0.35ç§’ã®ã‚ºãƒ¬ â†’ ä½ç›¸ã®ä¸é€£ç¶š

48kHzæƒ³å®šã§è¨ˆç®—:
  å®Ÿéš›ã®å‘¨æœŸ = 4.0 ç§’
  â†’ ã‚ºãƒ¬ãªã—
```

### éŸ³å£°å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

```
AudioSourceå®Ÿè£…
  â”œâ”€ ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
  â”‚    â”œâ”€ 44.1kHzï¼ˆæ—§å®Ÿè£…ï¼‰
  â”‚    â””â”€ 48kHzï¼ˆæ–°å®Ÿè£…ï¼‰
  â†“
AVAudioSourceNodeã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
  â”œâ”€ æ¯ãƒ•ãƒ¬ãƒ¼ãƒ å‘¼ã³å‡ºã•ã‚Œã‚‹
  â”œâ”€ LFOä½ç›¸è¨ˆç®—ã«ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨
  â””â”€ ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆãŒé–“é•ã£ã¦ã„ã‚‹ã¨ä½ç›¸ãŒãšã‚Œã‚‹
  â†“
AVAudioEngineï¼ˆå®Ÿéš›ã¯48kHzï¼‰
  â”œâ”€ ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã«åˆã‚ã›ã¦48kHzã§å‹•ä½œ
  â””â”€ 44.1kHzæƒ³å®šã®ä¿¡å· â†’ ä½ç›¸ä¸é€£ç¶š â†’ ãƒã‚¤ã‚º
```

---

## ğŸ”§ è¨ºæ–­ãƒ—ãƒ­ã‚»ã‚¹

### èª¿æŸ»ã®çµŒç·¯

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼å ±å‘Š**: ã€Œä»Šå›è¿½åŠ ã—ãŸï¼”ï¼‹ï¼˜æ›²ã«é–¢ã—ã¦ã€å°ã•ãªãƒ‘ãƒãƒ‘ãƒã¨ã„ã†ãƒã‚¤ã‚ºãŒå…¥ã‚Šã¾ã™ã€
2. **ä»®èª¬**: ãƒã‚¤ã‚ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆãŒå…¥ã£ã¦ã„ã‚‹ï¼Ÿ
3. **ç¢ºèª**: 12å€‹ä¸­10å€‹ã¯ãƒã‚¤ã‚ºã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹
4. **æ·±æ˜ã‚Š**: NoiseGeneratorå®Ÿè£…ã¯å•é¡Œãªã—
5. **æ°—ã¥ã**: ã€Œã‚‚ã—ã‹ã—ã¦ã€ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆãŒé–“é•ã£ã¦ã„ã‚‹ï¼Ÿã€
6. **æ¤œè¨¼**:
   - æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«: 48kHzä½¿ç”¨
   - æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«: 44.1kHzä½¿ç”¨
   - **ä¸ä¸€è‡´ã‚’ç™ºè¦‹ï¼**

### æ±ºå®šçš„ãªç™ºè¦‹

```bash
# ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã‚’æ¤œç´¢
$ grep -r "44100\|48000" TsukiSound/Core/Audio/Sources/

# çµæœ: 16ãƒ•ã‚¡ã‚¤ãƒ«ä¸­4ãƒ•ã‚¡ã‚¤ãƒ«ãŒ44.1kHzã€12ãƒ•ã‚¡ã‚¤ãƒ«ãŒ48kHz
```

---

## âœ… è§£æ±ºç­–

### å®Ÿæ–½ã—ãŸä¿®æ­£

ã™ã¹ã¦ã®AudioSourceå®Ÿè£…ã‚’**48kHzï¼ˆiOSæ¨™æº–ï¼‰ã«çµ±ä¸€**ã€‚

**ä¿®æ­£ä¾‹ï¼ˆOceanWaves.swift:74ï¼‰**:

```swift
// âœ… ä¿®æ­£å¾Œï¼ˆ48kHzçµ±ä¸€ï¼‰
_sourceNode = AVAudioSourceNode { _, _, frameCount, audioBufferList -> OSStatus in
    let sampleRate = 48000.0  // iOSæ¨™æº–ã«çµ±ä¸€
    let deltaTime = 1.0 / sampleRate

    // LFOä½ç›¸ã‚’é€²ã‚ã‚‹
    lfoPhase += twoPi * localLFOFreq * deltaTime

    return noErr
}
```

### ä¿®æ­£ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å‰ | å¤‰æ›´å¾Œ |
|---------|--------|--------|
| OceanWaves.swift | 44100.0 | 48000.0 |
| WindChime.swift | 44100.0 | 48000.0 |
| TibetanBowl.swift | 44100.0 | 48000.0 |
| ClickMaskingDrone.swift | 44100.0 | 48000.0 |
| ClickMaskingDrone.swiftï¼ˆè¨ºæ–­ç”¨ï¼‰ | 44100ï¼ˆintervalï¼‰ | 48000ï¼ˆintervalï¼‰ |

**çµæœ**:
- å…¨16å€‹ã®AudioSourceãƒ•ã‚¡ã‚¤ãƒ«ãŒ48kHzã«çµ±ä¸€ âœ…
- ã‚¯ãƒªãƒƒã‚¯ãƒ»ãƒã‚¤ã‚ºãŒè§£æ¶ˆ âœ…
- éŸ³è³ªãŒæ”¹å–„ âœ…

---

## ğŸ’¡ é‡è¦ãªæ•™è¨“

### 1. ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã¯çµ±ä¸€ã™ã¹ã

**åŸå‰‡**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§åŒã˜ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã€‚

| ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | æ¨™æº–ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆ |
|-----------------|------------------|
| iOS/iPadOS | 48 kHz |
| macOS | 44.1 kHz ã¾ãŸã¯ 48 kHz |
| CD | 44.1 kHz |
| ãƒ—ãƒ­ã‚ªãƒ¼ãƒ‡ã‚£ã‚ª | 48 kHz, 96 kHz, 192 kHz |

**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯**: iOSå°‚ç”¨ â†’ **48 kHz ã§çµ±ä¸€**

### 2. ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã‚’é¿ã‘ã‚‹ï¼ˆç†æƒ³ï¼‰

ã‚ˆã‚Šè‰¯ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ:

```swift
// Option 1: formatã‹ã‚‰å–å¾—ï¼ˆæ¨å¥¨ï¼‰
public func attachAndConnect(to engine: AVAudioEngine, format: AVAudioFormat) throws {
    let sampleRate = format.sampleRate  // å®Ÿéš›ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰å–å¾—

    _sourceNode = AVAudioSourceNode { _, _, frameCount, audioBufferList -> OSStatus in
        // sampleRateã‚’ä½¿ç”¨
        lfoPhase += twoPi * lfoFreq / sampleRate
        return noErr
    }
}

// Option 2: engineã‹ã‚‰å–å¾—
let sampleRate = engine.outputNode.outputFormat(forBus: 0).sampleRate
```

**ãŸã ã—æ³¨æ„**: AVAudioSourceNodeã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£å†…ã§ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹å¤‰æ•°ã¯æ³¨æ„ãŒå¿…è¦ã€‚

**ç¾åœ¨ã®å®Ÿè£…**: ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ48000.0ï¼‰ã§çµ±ä¸€ - ã‚·ãƒ³ãƒ—ãƒ«ã§æ˜ç¢º

### 3. ä½ç›¸è¨ˆç®—ã«ã¯æ­£ç¢ºãªã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆãŒå¿…é ˆ

**LFOã€ã‚ªã‚·ãƒ¬ãƒ¼ã‚¿ãƒ¼ã€ã‚¨ãƒ³ãƒ™ãƒ­ãƒ¼ãƒ—ç­‰ã®ä½ç›¸è¨ˆç®—**:

```swift
// ä½ç›¸ã®é€²è¡Œé‡ = å‘¨æ³¢æ•° Ã— æ™‚é–“
// æ™‚é–“ = 1 / ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆ
phaseIncrement = 2Ï€ Ã— frequency / sampleRate
```

ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆãŒé–“é•ã£ã¦ã„ã‚‹ã¨:
- å‘¨æœŸãŒãšã‚Œã‚‹
- ä½ç›¸ãŒä¸é€£ç¶šã«ãªã‚‹
- ã‚¯ãƒªãƒƒã‚¯éŸ³ã€ãƒã‚¤ã‚ºãŒç™ºç”Ÿ

### 4. æ–°è¦å®Ÿè£…æ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

æ–°ã—ã„AudioSourceã‚’è¿½åŠ ã™ã‚‹ã¨ãã¯:

- [ ] ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã¯48kHzã‹ï¼Ÿ
- [ ] ä»–ã®AudioSourceã¨çµ±ä¸€ã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
- [ ] LFO/ã‚ªã‚·ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä½ç›¸è¨ˆç®—ã¯æ­£ã—ã„ã‹ï¼Ÿ
- [ ] ãƒ†ã‚¹ãƒˆå†ç”Ÿã§ã‚¯ãƒªãƒƒã‚¯ãƒ»ãƒã‚¤ã‚ºãŒãªã„ã‹ï¼Ÿ

### 5. ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ç¢ºèªã™ã¹ãç‚¹

```swift
// âŒ é¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³
let sampleRate = 44100.0  // ç•°ãªã‚‹å€¤

// âœ… æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³
let sampleRate = 48000.0  // iOSæ¨™æº–ã«çµ±ä¸€

// âœ… ã‚ˆã‚Šè‰¯ã„ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå°†æ¥çš„ï¼‰
let sampleRate = format.sampleRate  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰å–å¾—
```

---

## ğŸ” ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

### ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆä¸ä¸€è‡´ã‚’æ¤œå‡ºã™ã‚‹

#### æ–¹æ³•1: grepã§æ¤œç´¢

```bash
# ã™ã¹ã¦ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆå®šç¾©ã‚’æ¤œç´¢
grep -rn "44100\|48000" TsukiSound/Core/Audio/Sources/

# çµæœä¾‹:
# OceanWaves.swift:74:    let sampleRate = 44100.0
# MoonlitSea.swift:83:    lfoPhase += twoPi * localLFOFreq / 48000.0
```

#### æ–¹æ³•2: å®Ÿè¡Œæ™‚ã«ãƒ­ã‚°å‡ºåŠ›

```swift
// AVAudioSourceNodeä½œæˆæ™‚
_sourceNode = AVAudioSourceNode { _, _, frameCount, audioBufferList -> OSStatus in
    let sampleRate = 48000.0

    #if DEBUG
    // æœ€åˆã®1å›ã ã‘ãƒ­ã‚°å‡ºåŠ›
    static var logged = false
    if !logged {
        print("ğŸµ [\(type(of: self))] Sample rate: \(sampleRate) Hz")
        logged = true
    }
    #endif

    // ...
}
```

#### æ–¹æ³•3: engineã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ç¢ºèª

```swift
// LocalAudioEngine.swift ã® configure() å†…
let format = engine.outputNode.inputFormat(forBus: 0)
print("ğŸ”Š [LocalAudioEngine] Output format:")
print("   Sample rate: \(format.sampleRate) Hz")
print("   Channels: \(format.channelCount)")
print("   Format: \(format.commonFormat.rawValue)")
```

### ã‚¯ãƒªãƒƒã‚¯ãƒ»ãƒã‚¤ã‚ºã®è¨ºæ–­æ‰‹é †

1. **ç—‡çŠ¶ã‚’ç¢ºèª**
   - ã©ã®éŸ³æºã§ãƒã‚¤ã‚ºãŒç™ºç”Ÿã™ã‚‹ã‹ï¼Ÿ
   - ãƒã‚¤ã‚ºã®ç‰¹å¾´ï¼ˆã‚¯ãƒªãƒƒã‚¯ã€ãƒ‘ãƒãƒ‘ãƒã€ãƒ–ãƒ„ãƒ–ãƒ„ç­‰ï¼‰

2. **ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã‚’ç¢ºèª**
   - `grep -r "44100\|48000"` ã§æ¤œç´¢
   - ã™ã¹ã¦48kHzã«çµ±ä¸€ã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ

3. **å®Ÿéš›ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ç¢ºèª**
   - AVAudioEngineãŒä½¿ç”¨ã—ã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã¯ï¼Ÿ
   - ãƒ­ã‚°å‡ºåŠ›ã§ç¢ºèª

4. **ãƒ†ã‚¹ãƒˆä¿®æ­£**
   - ç–‘ã‚ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’48kHzã«å¤‰æ›´
   - ãƒ“ãƒ«ãƒ‰ãƒ»å†ç”Ÿã—ã¦ç¢ºèª

---

## ğŸ“Š ä¿®æ­£å‰å¾Œã®æ¯”è¼ƒ

| çŠ¶æ…‹ | ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆ | ãƒã‚¤ã‚º | éŸ³è³ª |
|------|--------------|--------|------|
| **ä¿®æ­£å‰** | 44.1kHz/48kHzæ··åœ¨ | ãƒ‘ãƒãƒ‘ãƒéŸ³ã‚ã‚Š | åŠ£åŒ– |
| **ä¿®æ­£å¾Œ** | 48kHzçµ±ä¸€ | ãƒã‚¤ã‚ºãªã— | ã‚¯ãƒªã‚¢ |

### ä¿®æ­£ã«ã‚ˆã‚‹å½±éŸ¿

- **éŸ³è³ª**: å¤§å¹…æ”¹å–„ï¼ˆã‚¯ãƒªãƒƒã‚¯ãƒ»ãƒã‚¤ã‚ºè§£æ¶ˆï¼‰
- **CPUè² è·**: å¤‰åŒ–ãªã—ï¼ˆã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆå¤‰æ›´ã®ã¿ï¼‰
- **äº’æ›æ€§**: iOSæ¨™æº–ã«æº–æ‹ ï¼ˆæ”¹å–„ï¼‰
- **ã‚³ãƒ¼ãƒ‰ã®ä¸€è²«æ€§**: æ”¹å–„ï¼ˆã™ã¹ã¦48kHzï¼‰

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Audio System Implementation Guide](./implementation/_guide-audio-system-impl.md)
- [AVAudioUnitDistortioné›‘éŸ³å•é¡Œ](./report/report-audio-distortion-noise.md)
- `TsukiSound/Core/Audio/Sources/*.swift` - AudioSourceå®Ÿè£…

---

## ğŸ”— é–¢é€£ã‚³ãƒŸãƒƒãƒˆ

- Commit: `849792e` - "fix: standardize all audio sources to 48kHz sample rate"
  - Fixed crackling/clicking noise by unifying sample rates
  - Changed 4 files from 44.1kHz to 48kHz
  - All 16 AudioSource files now use 48kHz (iOS standard)

---

## ğŸ“š å‚è€ƒè³‡æ–™

### Appleå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [AVAudioEngine - Apple Developer](https://developer.apple.com/documentation/avfaudio/avaudioengine)
- [Audio Session Programming Guide](https://developer.apple.com/library/archive/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/Introduction/Introduction.html)

### ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã«ã¤ã„ã¦

- iOS/iPadOS: 48 kHz ãŒæ¨™æº–
- CD: 44.1 kHz
- ãƒ—ãƒ­ã‚ªãƒ¼ãƒ‡ã‚£ã‚ª: 48/96/192 kHz

---

## ğŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | æ›´æ–°è€… |
|------|---------|--------|
| 2025-11-17 | åˆç‰ˆä½œæˆï¼ˆRCAå®Œäº†ã€ä¿®æ­£æ¸ˆã¿ï¼‰ | Claude Code |

---

**ä½œæˆè€…**: Claude Code
**ãƒ¬ãƒ“ãƒ¥ãƒ¼**: æœªå®Ÿæ–½
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è§£æ±ºæ¸ˆã¿

